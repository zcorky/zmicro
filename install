#!/bin/bash
export ZMICRO_HOME=/usr/local/lib/zmicro
export ZMICRO_LOCAL_BIN=/usr/local/bin/zmicro

if [ ! -d $ZMICRO_HOME ]; then
  sudo git clone https://github.com/zcorky/zmicro.git $ZMICRO_HOME
fi

if [ ! -w $ZMICRO_HOME ]; then
  sudo chown -r $USER $ZMICRO_HOME
fi

if [ ! -f $ZMICRO_LOCAL_BIN ]; then
  sudo ln -s $ZMICRO_HOME/bin/zmicro $ZMICRO_LOCAL_BIN
fi

. $ZMICRO_HOME/config/config

zmicro init

echo ""
echo "First install, you should source profile:"
echo "  bash: source \$HOME/.bashrc"
echo "  zsh: source \$HOME/.zshrc"
echo "Then run update:"
echo "  zmicro update"
echo ""
